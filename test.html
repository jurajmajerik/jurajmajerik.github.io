<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Pomodoro Clock</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.2.1/react.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.2.1/react-dom.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="pomodoro-clock-styles.css">
</head>

<body>
<div id="contents2"></div>

<script type="text/babel">
  const contentNode2 = document.getElementById('contents2');

  class Clock extends React.Component {
  constructor(props){
    super(props);
    this.state = {currentCount: 10};
    this.timer = this.timer.bind(this);
  }
  timer() {
    this.setState({
      currentCount: this.state.currentCount - 1
    })
    if(this.state.currentCount < 1) {
      clearInterval(this.intervalId);
    }
  }
  componentDidMount() {
    this.intervalId = setInterval(this.timer, 1000);
  }
  componentWillUnmount(){
    clearInterval(this.intervalId);
  }
  render() {
    return(
      <div>{this.state.currentCount}</div>
    );
  }
}

  ReactDOM.render(<Clock />, contentNode2);

</script>

</body>

</html>
